{
javax.servlet.http.HttpServletRequest request=(javax.servlet.http.HttpServletRequest)$1;
String name=$2;
String defaultValue=$3;

if (!$2.startsWith("_")) {
    name = "_" + name;
}
String value = request.getParameter(name);
if (value == null || (value = value.trim()).length() == 0) {
    //尝试请求头
    value = request.getHeader(name);
}
if (value == null || (value = value.trim()).length() == 0) {
    return defaultValue;
}
return value;
}